<p>Call a set of integers <i>spacy</i> if it contains no more than one out of any three consecutive integers. How many <a href="/wiki/index.php/Subset" title="Subset">subsets</a> of <img src="//latex.artofproblemsolving.com/2/8/3/2835d380b1c899f79dd3967e1185ee6400e24f76.png" class="latex" alt="$\{1,2,3,\ldots,12\},$" style="vertical-align: -4px" width="124" height="18" /> including the <a href="/wiki/index.php/Empty_set" title="Empty set">empty set</a>, are spacy?
</p><p><img src="//latex.artofproblemsolving.com/d/d/7/dd7554bc1cd663b3d57fb14e8ad0ab0c567a1651.png" class="latex" alt="$\mathrm{(A)}\ 121 \qquad \mathrm{(B)}\ 123 \qquad \mathrm{(C)}\ 125 \qquad \mathrm{(D)}\ 127 \qquad \mathrm{(E)}\ 129$" style="vertical-align: -4px" width="432" height="18" />
</p>
<h2><span class="mw-headline" id="Solution_1">Solution 1</span></h2>
<p>Let <img src="//latex.artofproblemsolving.com/3/b/d/3bde7059c6b5b207061a12fbd17380fbdff0ea6f.png" class="latex" alt="$S_{n}$" style="vertical-align: -2px" width="19" height="15" /> denote the number of spacy subsets of <img src="//latex.artofproblemsolving.com/f/6/5/f65aebd788bc644f3121124bab783fb699ca40d9.png" class="latex" alt="$\{ 1, 2, ... n \}$" style="vertical-align: -4px" width="77" height="18" />.  We have <img src="//latex.artofproblemsolving.com/0/6/2/0621e7a99f5eb2f9bac54883364d7c5df1c94317.png" class="latex" alt="$S_{0} = 1, S_{1} = 2, S_{2} = 3$" style="vertical-align: -3px" width="171" height="16" />.  
</p><p>The spacy subsets of <img src="//latex.artofproblemsolving.com/9/b/6/9b655a294b2e59e480034fdb4cc1ec1171d2777c.png" class="latex" alt="$S_{n + 1}$" style="vertical-align: -4px" width="34" height="16" /> can be divided into two groups:
</p>
<ul><li><img src="//latex.artofproblemsolving.com/f/7/6/f76be31925425c9b26a3075c2cd1c4a2cf404813.png" class="latex" alt="$A =$" width="32" height="13" /> those not containing <img src="//latex.artofproblemsolving.com/a/c/5/ac5429dc4aa7ba1f3b20be4599a34c4220cc79db.png" class="latex" alt="$n + 1$" style="vertical-align: -1px" width="41" height="13" />.  Clearly <img src="//latex.artofproblemsolving.com/b/4/d/b4db3f0c9e3cd372e4e59af6f171a119b71dc590.png" class="latex" alt="$|A|=S_{n}$" style="vertical-align: -4px" width="67" height="18" />.</li>
<li><img src="//latex.artofproblemsolving.com/0/0/e/00eeacda65171fdf73e0bd6e5ba1dacc9dc991a2.png" class="latex" alt="$B =$" width="33" height="12" /> those containing <img src="//latex.artofproblemsolving.com/a/c/5/ac5429dc4aa7ba1f3b20be4599a34c4220cc79db.png" class="latex" alt="$n + 1$" style="vertical-align: -1px" width="41" height="13" />. We have <img src="//latex.artofproblemsolving.com/3/4/f/34f9606aff7352e1238dc32c7ca314f1bb947d55.png" class="latex" alt="$|B|=S_{n - 2}$" style="vertical-align: -4px" width="84" height="18" />, since removing <img src="//latex.artofproblemsolving.com/a/c/5/ac5429dc4aa7ba1f3b20be4599a34c4220cc79db.png" class="latex" alt="$n + 1$" style="vertical-align: -1px" width="41" height="13" /> from any set in <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" /> produces a spacy set with all elements at most equal to <img src="//latex.artofproblemsolving.com/1/9/6/196b32ead0a6efe6815fa603114db0084ceb7fc8.png" class="latex" alt="$n - 2,$" style="vertical-align: -3px" width="46" height="15" /> and each such spacy set can be constructed from exactly one spacy set in <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />.</li></ul>
<p>Hence,
</p>
<div style="text-align:center;"><img src="//latex.artofproblemsolving.com/6/7/c/67cef40285a255e1c2cdf97100c25e31affcf407.png" class="latex" alt="$S_{n + 1} = S_{n} + S_{n - 2}$" style="vertical-align: -4px" width="139" height="16" /></div>
<p>From this <a href="/wiki/index.php/Recursion" title="Recursion">recursion</a>, we find that
</p>
<table class="wikitable" border="1px solid">

<tbody><tr>
<td><img src="//latex.artofproblemsolving.com/5/7/8/57814ab67dd2add33a172b032dace972d01c2494.png" class="latex" alt="$S(0)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/9/7/a/97a9ec50837f83b18236bade53c8fef14c64d322.png" class="latex" alt="$S(1)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/0/4/7/047d0548b11a04466a411ba36f2932aed5be40bb.png" class="latex" alt="$S(2)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/a/8/f/a8f7c699e2cd7f31696018f03c14477942840897.png" class="latex" alt="$S(3)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/4/7/b/47b5aa412f81de13e8a0b7294e51725d487a455f.png" class="latex" alt="$S(4)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/a/4/0/a40d94754dd4c96682cb1a2f873411610f1147b2.png" class="latex" alt="$S(5)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/1/5/2/152d60fa4ca5b2d34072502cd226bcb2783797e5.png" class="latex" alt="$S(6)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/7/7/c/77cc0ad8e9b11641701c8089a9c3280c2fce3740.png" class="latex" alt="$S(7)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/0/4/2/0428e5f3f7e5e7b92b8108f0cd2c25a01702f90e.png" class="latex" alt="$S(8)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/b/b/d/bbd3de04615a131fbf725dbb96c59355f9ca769a.png" class="latex" alt="$S(9)$" style="vertical-align: -4px" width="33" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/9/a/f/9af5f87abfa86f27d4084700153d969a35d121d9.png" class="latex" alt="$S(10)$" style="vertical-align: -4px" width="42" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/0/5/0/0500d00d5a6ff4b30b96dfec69829492956963d3.png" class="latex" alt="$S(11)$" style="vertical-align: -4px" width="42" height="18" /></td>
<td><img src="//latex.artofproblemsolving.com/a/b/f/abfb0229fe2b032486bc524afa36cc7d37c982b0.png" class="latex" alt="$S(12)$" style="vertical-align: -4px" width="42" height="18" /></td>
<td>
<p><br />
</p>
</td></tr>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>6</td>
<td>9</td>
<td>13</td>
<td>19</td>
<td>28</td>
<td>41</td>
<td>60</td>
<td>88</td>
<td>129
</td></tr></tbody></table>
<p>And so the answer is <img src="//latex.artofproblemsolving.com/0/2/a/02ad991c2821130f0d7e456d453252c19a320752.png" class="latex" alt="$(E)$" style="vertical-align: -4px" width="27" height="18" /> <img src="//latex.artofproblemsolving.com/6/5/7/657b97a497d22369149bd9dc22e0d35eb5dda31c.png" class="latex" alt="$129$" style="vertical-align: 0px" width="26" height="13" />.
</p>
<h2><span class="mw-headline" id="Solution_2">Solution 2</span></h2>
<p>Since each of the elements of the subsets must be spaced at least two apart, a divider counting argument can be used.
</p><p>From the set <img src="//latex.artofproblemsolving.com/8/f/8/8f8f0b8ee98f72ed85bb3c06aa2e7a039bad776e.png" class="latex" alt="$\{1,2,3,4,5,6,7,8,9,10,11,12\}$" style="vertical-align: -4px" width="242" height="18" /> we choose at most four numbers. Let those numbers be represented by balls. Between each of the balls there are at least two dividers. So for example, o | | o | | o | | o | | represents <img src="//latex.artofproblemsolving.com/9/9/e/99e4433b33df694786446905dec8a2988c7552f5.png" class="latex" alt="${1,4,7,10}$" style="vertical-align: -3px" width="69" height="16" />.
</p><p>For subsets of size <img src="//latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" /> there must be <img src="//latex.artofproblemsolving.com/b/7/9/b799f44422db6c611fbda1117d602f957d1fe95e.png" class="latex" alt="$2(k - 1)$" style="vertical-align: -4px" width="63" height="18" /> dividers between the balls, leaving <img src="//latex.artofproblemsolving.com/7/d/5/7d509962e2e11447e32bf6e23691ac9794292ead.png" class="latex" alt="$12 - k - 2(k - 1) = 12 - 3k + 2$" style="vertical-align: -4px" width="251" height="18" /> dividers to be be placed in <img src="//latex.artofproblemsolving.com/e/1/8/e18453e31b8b9f4f7722777b72a0eff030a17d1d.png" class="latex" alt="$k + 1$" style="vertical-align: -1px" width="40" height="14" /> spots between the balls. The number of way this can be done is <img src="//latex.artofproblemsolving.com/0/6/7/067555a38ee25962ae8107aa888e73e0490f3da9.png" class="latex" alt="$\binom{(12 - 3k + 2) + (k + 1) - 1}k = \binom{12 - 2k + 2}k$" style="vertical-align: -22px" width="381" height="53" />.
</p><p>Therefore, the number of spacy subsets is <img src="//latex.artofproblemsolving.com/2/5/7/257673ecacfbbdcbf33b54661b6f194c0d02b166.png" class="latex" alt="$\binom 64 + \binom 83 + \binom{10}2 + \binom{12}1 + \binom{14}0 = \boxed{129}$" style="vertical-align: -22px" width="365" height="53" />.
</p>
<h2><span class="mw-headline" id="Solution_3">Solution 3</span></h2>
<p>A shifting argument is also possible, and is similar in spirit to Solution 2. Clearly we can have at most <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" /> elements. Given any arrangment, we subract <img src="//latex.artofproblemsolving.com/f/3/6/f36cbde647acb96bc61049cb31329d9724d4ca41.png" class="latex" alt="$2i-2$" width="46" height="12" /> from the <img src="//latex.artofproblemsolving.com/c/6/5/c652539d22d83a077b54a48df48d7ad68ca355b1.png" class="latex" alt="$i-th$" width="45" height="12" /> element in our subset, when the elements are arranged in increasing order. This creates a <a href="/wiki/index.php/Bijection" title="Bijection">bijection</a> with the number of size <img src="//latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" /> subsets of the set of the first <img src="//latex.artofproblemsolving.com/c/b/6/cb64ba8067f81874fbb65158a5aacbf7655c1b57.png" class="latex" alt="$14-2k$" style="vertical-align: 0px" width="59" height="13" /> positive integers. For instance, the arrangment o | | o | | o | | | o | corresponds to the arrangment o o o | o |. Notice that there is no longer any restriction on consectutive numbers. Therefore, we can easily plug in the possible integers 0, 1, 2, 3, 4, 5 for <img src="//latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" />: <img src="//latex.artofproblemsolving.com/f/1/5/f1514004fa93cc040f90c034d5c59790c09c5468.png" class="latex" alt="${14 \choose 0} + {12 \choose 1} + {10 \choose 2} + {8 \choose 3} + {6 \choose 4} = \boxed{129}$" style="vertical-align: -22px" width="365" height="53" />
</p><p>In general, the number of subsets of a set with <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> elements and with no <img src="//latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" /> consecutive numbers is <img src="//latex.artofproblemsolving.com/4/4/2/44224d1f3d461738117ec05e2fddf80d6122bdb7.png" class="latex" alt="$\sum^{\lceil{\frac{n}{k}}\rceil}_{i=0}{{n-(k-1)(i-1) \choose i}}$" style="vertical-align: -23px" width="199" height="59" />.
</p>
