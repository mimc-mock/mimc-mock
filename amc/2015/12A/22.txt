<p>For each positive integer <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" />, let <img src="//latex.artofproblemsolving.com/0/9/6/0965bf432b818b46740e3cd4d042899628c7ad0e.png" class="latex" alt="$S(n)$" style="vertical-align: -4px" width="35" height="18" /> be the number of sequences of length <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> consisting solely of the letters <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> and <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />, with no more than three <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />s in a row and no more than three <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />s in a row. What is the remainder when <img src="//latex.artofproblemsolving.com/b/e/e/bee82e12fac5034824ef8595602719d5c452a095.png" class="latex" alt="$S(2015)$" style="vertical-align: -4px" width="60" height="18" /> is divided by <img src="//latex.artofproblemsolving.com/e/d/f/edf074831eb5bc9e61d6d6e09f525a86e3068f6a.png" class="latex" alt="$12$" style="vertical-align: 0px" width="17" height="12" />?
</p><p><img src="//latex.artofproblemsolving.com/a/9/2/a928f190b5bdc22e3c47b59651f226726208061a.png" class="latex" alt="$\textbf{(A)}\ 0\qquad\textbf{(B)}\ 4\qquad\textbf{(C)}\ 6\qquad\textbf{(D)}\ 8\qquad\textbf{(E)}\ 10$" style="vertical-align: -4px" width="357" height="17" />
</p>
<h2><span class="mw-headline" id="Solution_1">Solution 1</span></h2>
<p>One method of approach is to find a recurrence for <img src="//latex.artofproblemsolving.com/0/9/6/0965bf432b818b46740e3cd4d042899628c7ad0e.png" class="latex" alt="$S(n)$" style="vertical-align: -4px" width="35" height="18" />. 
</p><p>Let us define <img src="//latex.artofproblemsolving.com/6/4/a/64ab55c6372365bc11de583097b2e146b6867fae.png" class="latex" alt="$A(n)$" style="vertical-align: -4px" width="37" height="18" /> as the number of sequences of length <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> ending with an <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />, and <img src="//latex.artofproblemsolving.com/d/2/4/d24aeb5d3841c37db51e1be807e816d9c6059c1f.png" class="latex" alt="$B(n)$" style="vertical-align: -4px" width="38" height="18" /> as the number of sequences of length <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> ending in <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />. Note that <img src="//latex.artofproblemsolving.com/c/2/2/c22fd92ec904a428e255a7b45486dee8ccf2e899.png" class="latex" alt="$A(n) = B(n)$" style="vertical-align: -4px" width="101" height="18" /> and <img src="//latex.artofproblemsolving.com/a/8/2/a82cb4d414e0fa4961c7e043444683c7496d363d.png" class="latex" alt="$S(n) = A(n) + B(n)$" style="vertical-align: -4px" width="160" height="18" />, so <img src="//latex.artofproblemsolving.com/0/4/9/0494339951e072fd6fd3a84dbdc6ce72bc2b93ca.png" class="latex" alt="$S(n) = 2A(n)$" style="vertical-align: -4px" width="107" height="18" />.
</p><p>For a sequence of length <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> ending in <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />, it must be a string of <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />s appended onto a sequence ending in <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" /> of length <img src="//latex.artofproblemsolving.com/6/0/4/6043aea431669ff0db5316fb643cdb21a92432f7.png" class="latex" alt="$n-1, n-2, \text{or}\ n-3$" style="vertical-align: -3px" width="162" height="16" />. So we have the recurrence: <img src="//latex.artofproblemsolving.com/d/1/1/d11a7967cf752fd85577abbe174035eb19b670b0.png" class="latexcenter" alt="\[A(n) = B(n-1) + B(n-2) + B(n-3) = A(n-1) + A(n-2) + A(n-3)\]" width="516" height="18" />
</p><p>We can thus begin calculating values of <img src="//latex.artofproblemsolving.com/6/4/a/64ab55c6372365bc11de583097b2e146b6867fae.png" class="latex" alt="$A(n)$" style="vertical-align: -4px" width="37" height="18" />. We see that the sequence goes (starting from <img src="//latex.artofproblemsolving.com/9/7/c/97c1b9131e410b9b93e45f17227f25380da269b8.png" class="latex" alt="$A(0) = 1$" style="vertical-align: -4px" width="69" height="18" />): <img src="//latex.artofproblemsolving.com/1/f/e/1feaa4ca9733ee77ff28c1772d10b58fff1f63b1.png" class="latex" alt="$1,1,2,4,7,13,24...$" style="vertical-align: -3px" width="143" height="16" /> 
</p><p>A problem arises though: the values of <img src="//latex.artofproblemsolving.com/6/4/a/64ab55c6372365bc11de583097b2e146b6867fae.png" class="latex" alt="$A(n)$" style="vertical-align: -4px" width="37" height="18" /> increase at an exponential rate. Notice however, that we need only find <img src="//latex.artofproblemsolving.com/6/a/9/6a931748597f425e54297822b66b28c4b0f5dd1a.png" class="latex" alt="$S(2015)\ \text{mod}\ 12$" style="vertical-align: -4px" width="123" height="18" />. In fact, we can use the fact that <img src="//latex.artofproblemsolving.com/0/4/9/0494339951e072fd6fd3a84dbdc6ce72bc2b93ca.png" class="latex" alt="$S(n) = 2A(n)$" style="vertical-align: -4px" width="107" height="18" /> to only need to find <img src="//latex.artofproblemsolving.com/6/a/b/6abe621f1cf182b5a63fedb552a7ed19f10c7d9b.png" class="latex" alt="$A(2015)\ \text{mod}\ 6$" style="vertical-align: -4px" width="115" height="18" />. Going one step further, we need only find <img src="//latex.artofproblemsolving.com/3/8/8/3886c889dc9de64ac51380aa1e9f7b1c43532c04.png" class="latex" alt="$A(2015)\ \text{mod}\ 2$" style="vertical-align: -4px" width="115" height="18" /> and <img src="//latex.artofproblemsolving.com/4/b/3/4b3e602f8bd33e7766f948d2bea306c9a97b8f79.png" class="latex" alt="$A(2015)\ \text{mod}\ 3$" style="vertical-align: -4px" width="115" height="18" /> to find <img src="//latex.artofproblemsolving.com/6/a/b/6abe621f1cf182b5a63fedb552a7ed19f10c7d9b.png" class="latex" alt="$A(2015)\ \text{mod}\ 6$" style="vertical-align: -4px" width="115" height="18" />.
</p><p>Here are the values of <img src="//latex.artofproblemsolving.com/e/4/3/e4398be33dd0ae7223b155304e2e9d6a8f03a61e.png" class="latex" alt="$A(n)\ \text{mod}\ 2$" style="vertical-align: -4px" width="90" height="18" />, starting with <img src="//latex.artofproblemsolving.com/6/8/a/68a3a4091b27722ad5b3e12bd4d1dff582ba6ef7.png" class="latex" alt="$A(0)$" style="vertical-align: -4px" width="35" height="18" />: <img src="//latex.artofproblemsolving.com/f/a/9/fa92a26dd990c4a1f511253aef4608cfac9d6a12.png" class="latexcenter" alt="\[1,1,0,0,1,1,0,0...\]" width="141" height="16" />
</p><p>Since the period is <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" /> and <img src="//latex.artofproblemsolving.com/b/9/9/b99b27de78ad0cbec9978e000a537fe6edac56ab.png" class="latex" alt="$2015 \equiv 3\ \text{mod}\ 4$" style="vertical-align: 0px" width="121" height="13" />, <img src="//latex.artofproblemsolving.com/5/6/0/560950e2cdd7826d2a29339217a35be65d2de948.png" class="latex" alt="$A(2015) \equiv 0\ \text{mod}\ 2$" style="vertical-align: -4px" width="149" height="18" />.
</p><p>Similarly, here are the values of <img src="//latex.artofproblemsolving.com/1/6/4/1641bc09c3432d08a54046d86a839e0c169b006b.png" class="latex" alt="$A(n)\ \text{mod}\ 3$" style="vertical-align: -4px" width="90" height="18" />,  starting with <img src="//latex.artofproblemsolving.com/6/8/a/68a3a4091b27722ad5b3e12bd4d1dff582ba6ef7.png" class="latex" alt="$A(0)$" style="vertical-align: -4px" width="35" height="18" />: <img src="//latex.artofproblemsolving.com/0/a/d/0ada154b9f691801dbcdde93734ed82474a966e2.png" class="latexcenter" alt="\[1,1,2,1,1,1,0,2,0,2,1,0,0,1,1,2...\]" width="278" height="16" />
</p><p>Since the period is <img src="//latex.artofproblemsolving.com/0/3/0/030e19e4e2f1c074127cb50581e8496470c5419f.png" class="latex" alt="$13$" style="vertical-align: 0px" width="17" height="13" /> and <img src="//latex.artofproblemsolving.com/0/9/5/09597316ca35983ee6794dbde2d4fbf52e9080b7.png" class="latex" alt="$2015 \equiv 0\ \text{mod}\ 13$" style="vertical-align: 0px" width="130" height="13" />, <img src="//latex.artofproblemsolving.com/b/f/2/bf2d3e49a1bdedaa2709c09a7a9b1242ce6e8895.png" class="latex" alt="$A(2015) \equiv 1\ \text{mod}\ 3$" style="vertical-align: -4px" width="149" height="18" />.
</p><p>Knowing that <img src="//latex.artofproblemsolving.com/5/6/0/560950e2cdd7826d2a29339217a35be65d2de948.png" class="latex" alt="$A(2015) \equiv 0\ \text{mod}\ 2$" style="vertical-align: -4px" width="149" height="18" /> and <img src="//latex.artofproblemsolving.com/b/f/2/bf2d3e49a1bdedaa2709c09a7a9b1242ce6e8895.png" class="latex" alt="$A(2015) \equiv 1\ \text{mod}\ 3$" style="vertical-align: -4px" width="149" height="18" />, we see that <img src="//latex.artofproblemsolving.com/5/1/c/51cd9ac4825784b399629b661e18c47bdfa9e570.png" class="latex" alt="$A(2015) \equiv 4\ \text{mod}\ 6$" style="vertical-align: -4px" width="149" height="18" />, and <img src="//latex.artofproblemsolving.com/0/a/a/0aa78585c8cb03cec71ad529a2105192666ff725.png" class="latex" alt="$S(2015) \equiv 8\ \text{mod}\ 12$" style="vertical-align: -4px" width="156" height="18" />. Hence, the answer is <img src="//latex.artofproblemsolving.com/b/3/0/b305929a95b53f14a0ad53eba1d8560626e1f28b.png" class="latex" alt="$\textbf{(D)}$" style="vertical-align: -4px" width="28" height="17" />.
</p>
<ul><li>Note that instead of introducing <img src="//latex.artofproblemsolving.com/6/4/a/64ab55c6372365bc11de583097b2e146b6867fae.png" class="latex" alt="$A(n)$" style="vertical-align: -4px" width="37" height="18" /> and <img src="//latex.artofproblemsolving.com/d/2/4/d24aeb5d3841c37db51e1be807e816d9c6059c1f.png" class="latex" alt="$B(n)$" style="vertical-align: -4px" width="38" height="18" />, we can simply write the relation <img src="//latex.artofproblemsolving.com/7/7/2/7725c3c0309e0321150a27a12f71ab3effce0ab2.png" class="latex" alt="$S(n)=S(n-1)+S(n-2)+S(n-3),$" style="vertical-align: -4px" width="315" height="18" /> and proceed as above.</li></ul>
<h2><span class="mw-headline" id="Recursion_Solution_2">Recursion Solution 2</span></h2>
<p>The huge <img src="//latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> value in place, as well as the "no more than... in a row" are key phrases that indicate recursion is the right way to go. 
Let's go with finding the case of <img src="//latex.artofproblemsolving.com/0/9/6/0965bf432b818b46740e3cd4d042899628c7ad0e.png" class="latex" alt="$S(n)$" style="vertical-align: -4px" width="35" height="18" /> from previous cases.
So how can we make the words of <img src="//latex.artofproblemsolving.com/0/9/6/0965bf432b818b46740e3cd4d042899628c7ad0e.png" class="latex" alt="$S(n)$" style="vertical-align: -4px" width="35" height="18" />? Do we choose 3-in-a-row of one letter, <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> or <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />, or do we want <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> consecutive ones or <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" />? Note that this covers all possible cases of ending with <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> and <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" /> with a certain number of consecutive letters. And obviously they are all distinct.
</p><p>[Convince yourself that each case for <img src="//latex.artofproblemsolving.com/0/9/6/0965bf432b818b46740e3cd4d042899628c7ad0e.png" class="latex" alt="$S(n)$" style="vertical-align: -4px" width="35" height="18" /> is considered exactly once by using these cues: does it end in <img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" />, <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" />, or <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> consecutive letter(s) (<img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> consecutive means a string like ...<img src="//latex.artofproblemsolving.com/d/6/6/d66492998689e8303534c9e4f3ba1fa650fd41f0.png" class="latex" alt="$BA$" width="28" height="13" />, ...<img src="//latex.artofproblemsolving.com/5/7/e/57ee5125358c0606c9b588580ddfa66f83e607b7.png" class="latex" alt="$AB$" width="27" height="13" />, as in the letter switches) and does it <img src="//latex.artofproblemsolving.com/c/e/2/ce26ae0583d170422defc83069591b472895c151.png" class="latex" alt="$WLOG$" width="60" height="12" /> consider both <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> and <img src="//latex.artofproblemsolving.com/d/3/7/d3713b61d71855f44ce52196d5bf838501d09ad5.png" class="latex" alt="$B?$" width="22" height="12" />]
</p><p>From there we realize that <img src="//latex.artofproblemsolving.com/d/a/f/dafcc5372b9b9c120dcfdadcc093b195b3eea9c0.png" class="latex" alt="$S(n)=S(n-1)+S(n-2)+S(n-3)$" style="vertical-align: -4px" width="310" height="18" /> because 3 in a row requires <img src="//latex.artofproblemsolving.com/8/c/a/8ca1d70e1a9bec5356e45d3e569161bed5169d81.png" class="latex" alt="$S(n-3)$" style="vertical-align: -4px" width="67" height="18" />, and so on. We need to find <img src="//latex.artofproblemsolving.com/b/e/e/bee82e12fac5034824ef8595602719d5c452a095.png" class="latex" alt="$S(2015)$" style="vertical-align: -4px" width="60" height="18" /> mod 12. We first compute <img src="//latex.artofproblemsolving.com/b/e/e/bee82e12fac5034824ef8595602719d5c452a095.png" class="latex" alt="$S(2015)$" style="vertical-align: -4px" width="60" height="18" /> mod <img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" /> and mod <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" />. By listing out the residues mod <img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" />, we find that the cycle length for mod <img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" /> is <img src="//latex.artofproblemsolving.com/0/3/0/030e19e4e2f1c074127cb50581e8496470c5419f.png" class="latex" alt="$13$" style="vertical-align: 0px" width="17" height="13" />. <img src="//latex.artofproblemsolving.com/b/7/c/b7c41d5d55f66cd4a292a064c28c0c679742c8a6.png" class="latex" alt="$2015$" style="vertical-align: 0px" width="35" height="13" /> is <img src="//latex.artofproblemsolving.com/b/c/1/bc1f9d9bf8a1b606a4188b5ce9a2af1809e27a89.png" class="latex" alt="$0$" width="8" height="12" /> mod <img src="//latex.artofproblemsolving.com/0/3/0/030e19e4e2f1c074127cb50581e8496470c5419f.png" class="latex" alt="$13$" style="vertical-align: 0px" width="17" height="13" /> so <img src="//latex.artofproblemsolving.com/1/7/1/1711eee6e63f1d47dbc3e1ab3535df3efcbb32e3.png" class="latex" alt="$S(2015) = S(13) = 2$" style="vertical-align: -4px" width="164" height="18" /> mod <img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" />. By listing out the residues mod <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" />, we find that the cycle length for mod <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" /> is <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" />. S(2015) = S(3) = mod <img src="//latex.artofproblemsolving.com/c/7/c/c7cab1a05e1e0c1d51a6a219d96577a16b7abf9d.png" class="latex" alt="$4$" style="vertical-align: 0px" width="9" height="12" />. By Chinese Remainder Theorem, <img src="//latex.artofproblemsolving.com/e/9/a/e9a2e8a86e097c93eb85e7250847e2fef3cab361.png" class="latex" alt="$S(2015) =\boxed{8}$" style="vertical-align: -5px" width="107" height="23" /> mod <img src="//latex.artofproblemsolving.com/e/d/f/edf074831eb5bc9e61d6d6e09f525a86e3068f6a.png" class="latex" alt="$12$" style="vertical-align: 0px" width="17" height="12" />.
</p>
