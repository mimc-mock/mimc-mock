<p>A bug starts at one vertex of a cube and moves along the edges of the cube according to the following rule. At each vertex the bug will choose to travel along one of the three edges emanating from that vertex. Each edge has equal probability of being chosen, and all choices are independent. What is the probability that after seven moves the bug will have visited every vertex exactly once?
</p><p><img src="//latex.artofproblemsolving.com/c/9/5/c95257ba6e93e6f98e227ecb00cd566aa6ade7d1.png" class="latex" alt="$\textbf{(A) } \frac{1}{2187}\qquad \textbf{(B) } \frac{1}{729}\qquad \textbf{(C) } \frac{2}{243}\qquad \textbf{(D) } \frac{1}{81} \qquad \textbf{(E) }  \frac{5}{243}$" style="vertical-align: -13px" width="466" height="38" />
</p>
<h2><span class="mw-headline" id="Solution_1">Solution 1</span></h2>
<p>Call this cube <img src="//latex.artofproblemsolving.com/0/5/5/055dcba798b1424c44c2606d913e0f2edab1c5ad.png" class="latex" alt="$ABCDEFGH$" width="118" height="13" />, with <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> being the starting point.
</p><p>Because in <img src="//latex.artofproblemsolving.com/e/0/a/e0a0db32027a732ac57d37ef2ae9bb150f65b108.png" class="latex" alt="$7$" width="9" height="12" /> moves the bug has to visit the other vertices, the bug cannot revisit any vertex.
</p><p>Therefore, starting at <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />, the bug has a <img src="//latex.artofproblemsolving.com/9/6/6/9662e7b1c3578ead26782570c534bf53af0b198b.png" class="latex" alt="$\frac{3}{3}$" style="vertical-align: -12px" width="11" height="37" /> chance of finding a good path to the next vertex, and call it <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />.
</p><p>Then, the bug has a <img src="//latex.artofproblemsolving.com/7/5/4/7547747b133453d3c209cff6cfbf129aa67a6947.png" class="latex" alt="$\frac{2}{3}$" style="vertical-align: -12px" width="11" height="37" /> chance of reaching a new vertex next. Call this <img src="//latex.artofproblemsolving.com/c/3/3/c3355896da590fc491a10150a50416687626d7cc.png" class="latex" alt="$C$" width="14" height="12" />. <img src="//latex.artofproblemsolving.com/c/c/f/ccf6d387ce491c0ca100c134021f21f616d75162.png" class="latex" alt="$A, B,$" style="vertical-align: -3px" width="40" height="16" /> and <img src="//latex.artofproblemsolving.com/c/3/3/c3355896da590fc491a10150a50416687626d7cc.png" class="latex" alt="$C$" width="14" height="12" /> are always on the same plane.
</p><p>Now, we split cases.
</p><p>Case <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" />: The bug goes to the vertex <img src="//latex.artofproblemsolving.com/f/a/2/fa2fa899f0afb05d6837885523503a2d4df434f9.png" class="latex" alt="$E$" width="14" height="12" /> opposite <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> on the space diagonal with probability <img src="//latex.artofproblemsolving.com/4/e/1/4e1965f8d70832ded66434c75a7bd52b75090af0.png" class="latex" alt="$\frac{1}{3}$" style="vertical-align: -12px" width="11" height="37" />.
</p><p>Then, the bug has to visit <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" /> on the plane of <img src="//latex.artofproblemsolving.com/e/2/a/e2a559986ed5a0ffc5654bd367c29dfc92913c36.png" class="latex" alt="$ABC$" width="42" height="13" /> last, as there is no way in and out from <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" />.
</p><p>Therefore, there is only <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> way out of <img src="//latex.artofproblemsolving.com/8/7/e/87edbdda753b32453027dc7cab023c0743b6b243.png" class="latex" alt="$81$" style="vertical-align: 0px" width="17" height="13" /> to get to <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" /> last.
</p><p>Therefore, there is a <img src="//latex.artofproblemsolving.com/c/a/8/ca8a18df35ee16b2f8220f8fb29c5063e171a6af.png" class="latex" alt="$\frac{1}{243} \cdot \frac{6}{9} = \frac{6}{2187}$" style="vertical-align: -13px" width="120" height="38" /> chance of finding a good path in this case.
</p><p>Case <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" />: The bug goes to vertex <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" /> on plane <img src="//latex.artofproblemsolving.com/e/2/a/e2a559986ed5a0ffc5654bd367c29dfc92913c36.png" class="latex" alt="$ABC$" width="42" height="13" /> with a chance of <img src="//latex.artofproblemsolving.com/4/e/1/4e1965f8d70832ded66434c75a7bd52b75090af0.png" class="latex" alt="$\frac{1}{3}$" style="vertical-align: -12px" width="11" height="37" />.
</p><p>The bug then has only <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> way to go to a point <img src="//latex.artofproblemsolving.com/f/a/2/fa2fa899f0afb05d6837885523503a2d4df434f9.png" class="latex" alt="$E$" width="14" height="12" /> on the opposite face, therefore having a <img src="//latex.artofproblemsolving.com/4/e/1/4e1965f8d70832ded66434c75a7bd52b75090af0.png" class="latex" alt="$\frac{1}{3}$" style="vertical-align: -12px" width="11" height="37" /> probability.
</p><p>Then, the bug has a choice of two vertices on the face opposite to <img src="//latex.artofproblemsolving.com/f/9/e/f9efaf9474c5658c4089523e2aff4e11488f8603.png" class="latex" alt="$ABCD$" width="57" height="13" />.
</p><p>This results in a <img src="//latex.artofproblemsolving.com/7/5/4/7547747b133453d3c209cff6cfbf129aa67a6947.png" class="latex" alt="$\frac{2}{3}$" style="vertical-align: -12px" width="11" height="37" /> probability of finding a good path to a point <img src="//latex.artofproblemsolving.com/a/0/5/a055f405829e64a3b70253ab67cb45ed6ed5bb29.png" class="latex" alt="$F$" width="14" height="12" />.
</p><p>Then, there is only <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> way out of <img src="//latex.artofproblemsolving.com/b/f/2/bf2c9074b396e3af0dea52d792660eea1c77f10f.png" class="latex" alt="$9$" width="8" height="12" /> to visit both other vertices on that face in <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> moves.
</p><p>Multiply the probabilities for this case to get <img src="//latex.artofproblemsolving.com/3/a/e/3aedafbdb10900c3ff214169ee7e376914ea9919.png" class="latex" alt="$\frac{2}{243} \cdot \frac{6}{9} = \frac{12}{2187}$" style="vertical-align: -13px" width="120" height="38" />.
</p><p>Add the probabilities of these two cases together to get <img src="//latex.artofproblemsolving.com/e/e/4/ee428355c2c245af819b9832cf7f58c182865f3a.png" class="latex" alt="$\frac{18}{2187} = \boxed{\textbf{(C) }\frac{2}{243}}.$" style="vertical-align: -19px" width="149" height="49" />
</p>
<h2><span class="mw-headline" id="Solution_2">Solution 2</span></h2>
<p><img src="//latex.artofproblemsolving.com/0/c/3/0c387d5337e7fcb06d2997018524c80f0caef086.png" class="latexcenter" alt="[asy] import three; unitsize(1cm); size(50); currentprojection=orthographic(1/2,-1,1/2); /* three - currentprojection, orthographic */ draw((0,0,0)--(1,0,0)--(1,1,0)--(0,1,0)--cycle); draw((0,0,0)--(0,0,1)); draw((0,1,0)--(0,1,1)); draw((1,1,0)--(1,1,1)); draw((1,0,0)--(1,0,1)); draw((0,0,1)--(1,0,1)--(1,1,1)--(0,1,1)--cycle); [/asy]" width="78" height="85" />
</p><p>Let us count the good paths. The bug starts at an arbitrary <a href="/wiki/index.php/Vertex" title="Vertex">vertex</a>, moves to a neighboring vertex (<img src="//latex.artofproblemsolving.com/7/c/d/7cde695f2e4542fd01f860a89189f47a27143b66.png" class="latex" alt="$3$" width="8" height="12" /> ways), and then to a new neighbor (<img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> more ways).  So, without loss of generality, let the cube have vertices <img src="//latex.artofproblemsolving.com/0/5/5/055dcba798b1424c44c2606d913e0f2edab1c5ad.png" class="latex" alt="$ABCDEFGH$" width="118" height="13" /> such that <img src="//latex.artofproblemsolving.com/f/9/e/f9efaf9474c5658c4089523e2aff4e11488f8603.png" class="latex" alt="$ABCD$" width="57" height="13" /> and <img src="//latex.artofproblemsolving.com/9/7/3/9735b37ac43861ef9e105bff1711f117917b09ec.png" class="latex" alt="$EFGH$" width="59" height="12" /> are two opposite faces with <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> above <img src="//latex.artofproblemsolving.com/f/a/2/fa2fa899f0afb05d6837885523503a2d4df434f9.png" class="latex" alt="$E$" width="14" height="12" /> and <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" /> above <img src="//latex.artofproblemsolving.com/a/0/5/a055f405829e64a3b70253ab67cb45ed6ed5bb29.png" class="latex" alt="$F$" width="14" height="12" />.  The bug starts at <img src="//latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" /> and moves first to <img src="//latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />, then to <img src="//latex.artofproblemsolving.com/c/3/3/c3355896da590fc491a10150a50416687626d7cc.png" class="latex" alt="$C$" width="14" height="12" />.
</p><p>From this point, there are two cases. 
</p><p>Case <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" />: the bug moves to <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" />.  From <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" />, there is only one good move available, to <img src="//latex.artofproblemsolving.com/b/1/9/b1902d279ba37d60bdce4e0e987b7cd19d48974e.png" class="latex" alt="$H$" width="16" height="12" />.  From <img src="//latex.artofproblemsolving.com/b/1/9/b1902d279ba37d60bdce4e0e987b7cd19d48974e.png" class="latex" alt="$H$" width="16" height="12" />, there are two ways to finish the trip, either by going <img src="//latex.artofproblemsolving.com/4/b/2/4b209cee7ede7a82a9d628539f7a54a5858195ad.png" class="latex" alt="$H \to G \to F \to E$" style="vertical-align: 0px" width="144" height="13" /> or <img src="//latex.artofproblemsolving.com/1/f/9/1f9f4c48c98d5ffe6bfb65f15ef15f49154cf511.png" class="latex" alt="$H \to E \to F \to G$" style="vertical-align: 0px" width="144" height="13" />.  So there are <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> good paths in this case.
</p><p>Case <img src="//latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" />: the bug moves to <img src="//latex.artofproblemsolving.com/6/e/2/6e28ce12d49d39f160d5a0ef54077fc98e4b9d2b.png" class="latex" alt="$G$" width="14" height="12" />.
</p><p>Case <img src="//latex.artofproblemsolving.com/6/c/6/6c6ea4756efa52a156029529aba37a305a5cb496.png" class="latex" alt="$2a$" width="18" height="12" />: the bug moves <img src="//latex.artofproblemsolving.com/e/6/6/e66f64eac32a7821f2c207a57169699e215fed08.png" class="latex" alt="$G \to H$" style="vertical-align: 0px" width="59" height="13" />.  In this case, there are <img src="//latex.artofproblemsolving.com/b/c/1/bc1f9d9bf8a1b606a4188b5ce9a2af1809e27a89.png" class="latex" alt="$0$" width="8" height="12" /> good paths because it will not be possible to visit both <img src="//latex.artofproblemsolving.com/9/f/f/9ffb448918db29f2a72f8f87f421b3b3cad18f95.png" class="latex" alt="$D$" width="15" height="12" /> and <img src="//latex.artofproblemsolving.com/f/a/2/fa2fa899f0afb05d6837885523503a2d4df434f9.png" class="latex" alt="$E$" width="14" height="12" /> without double-visiting some vertex.
</p><p>Case <img src="//latex.artofproblemsolving.com/a/9/b/a9b30259d95f64f9aa7c6bd36e1583618a23c8bd.png" class="latex" alt="$2b$" width="17" height="12" />: the bug moves <img src="//latex.artofproblemsolving.com/0/9/b/09bbcd666db757dd46b4b62ae2969d41784a5444.png" class="latex" alt="$G \to F$" style="vertical-align: 0px" width="56" height="13" />.  There is <img src="//latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> good path in this case, <img src="//latex.artofproblemsolving.com/7/3/c/73c4374ca5360595dc64ee578072d7b7fb0ace54.png" class="latex" alt="$F \to E \to H \to D$" style="vertical-align: 0px" width="145" height="13" />.
</p><p>2006 AMC 12A Problems/Problem 20 (section) this solution is extremely good and very hard to learn if you learn this solution you are officially a math god, for a total of <img src="//latex.artofproblemsolving.com/e/4/c/e4c1c5d8e7b5471193edb7d93c413269e0262b21.png" class="latex" alt="$3\cdot 3 \cdot 2 = 18$" style="vertical-align: 0px" width="95" height="13" /> good paths.  There were <img src="//latex.artofproblemsolving.com/8/d/7/8d7804f9537b8cc15bd669c1a63fef30d169f824.png" class="latex" alt="$3^7 = 2187$" style="vertical-align: 0px" width="77" height="15" /> possible paths the bug could have taken, so the probability of a random path is good is <img src="//latex.artofproblemsolving.com/c/5/3/c5305e64876bcb64729e0bf37cf6a00991797e5d.png" class="latex" alt="$\frac{18}{2187} = \boxed{\textbf{(C) }\frac2{243}}$" style="vertical-align: -19px" width="144" height="49" />.
</p>
